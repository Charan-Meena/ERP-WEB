<div class="dashboard-page main-content exam-time-table-slot-page">
    <div class="page-content">
        <section class="work-order-detail-section">
             <!-- <form [formGroup]="ExamTimeTableForm" (ngSubmit)="onSubmit()"> -->
                @if(isLoad){
                    <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="student-top-part">
                                <div class="section_heading mb-0">
                                    <div class="profile-basic">
                                        <h6 class="text-muted">Paper Name:- {{objSubject.subjName}}</h6>
                                        <small class="text-muted">Paper Code:-{{objSubject.subjectCode}}</small>
                                        <div class="staff-id">Roll No.:- XYZ123M0021</div>
                                        <div class="small doj text-muted">Exam Sesssion: June-2025 </div>
                                    </div>
                                </div>
                                <div class="timer-container" *ngIf="isExamActive; else examOver">
                                    <div class="timer-box">
                                        <span class="time">{{ hours }}</span>
                                        <div class="label">Hours</div>
                                    </div>
                                    <div class="timer-box">
                                        <span class="time">{{ minutes }}</span>
                                        <div class="label">Minutes</div>
                                    </div>
                                    <div class="timer-box">
                                        <span class="time">{{ seconds }}</span>
                                        <div class="label">Seconds</div>
                                    </div>
                                </div>
                                <ng-template #examOver>
                                    <h2>Exam Time Over</h2>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                    <section *ngIf="isExamActive; else examOver">
                        <div class="row">
                         <div class="col-8">
                            <div class="row" *ngFor="let mcqList of filtermcqQuestion; let i=index">
                                <div class="col-12 card-col">
                                    <div class="card border-dark">
                                        <div class="card-body">
                                            <div class="card-title">
                                                <p><span style="font-family: cursive; color: brown;">{{currentIndex+1}}-{{mcqList.questionId}}{{mcqList.question}}</span></p>
                                                <p>
                                                    <span></span>
                                                    <input class="form-check-input" type="radio" (change)="submitsingle(mcqList)" name="mcqList{{ mcqList.optionA }}" value="A" [(ngModel)]="mcqList.givenAnswer"/> 
                                                    <span class="badge bg-warning text-dark me-2" >A-{{mcqList.optionA}}</span>
                                                </p> 
                                                 <p>
                                                    <span></span>
                                                    <input class="form-check-input" type="radio" (change)="submitsingle(mcqList)" name="mcqList{{ mcqList.optionB }}" value="B" [(ngModel)]="mcqList.givenAnswer"/> 
                                                    <span class="badge bg-warning text-dark me-2" >B-{{mcqList.optionB}}</span>
                                                </p> 
                                                 <p>
                                                    <span></span>
                                                    <input class="form-check-input" type="radio" (change)="submitsingle(mcqList)" name="mcqList{{ mcqList.optionC }}" value="C" [(ngModel)]="mcqList.givenAnswer"/> 
                                                    <span class="badge bg-warning text-dark me-2" >C-{{mcqList.optionC}}    
                                                 </span>
                                                </p> 
                                                 <p>
                                                    <span></span>
                                                    <input class="form-check-input" type="radio" (change)="submitsingle(mcqList)" name="mcqList{{ mcqList.optionD }}" value="D" [(ngModel)]="mcqList.givenAnswer"/> 
                                                    <span class="badge bg-warning text-dark me-2" >D-{{mcqList.optionD}}    
                                                 </span>
                                                </p> 
                                            </div> 
                                        </div>
                                        <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                                            <button type="button" class="btn btn-danger" (click)="prevQueCall()"> << Previous</button>
                                            <button type="button" class="btn btn-warning" (click)="submitsingle(mcqList)">Save</button>
                                            <button type="button" class="btn btn-success" (click)=" nextQueCall()">Next >></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-4" style="margin-left: auto;">
                            <div class="row">
                                <div class="col">
                                    <div class="card border-dark">
                                        <div class="card-body">
                                            <div class="card-title"  style="text-align: center;font-family: cursive;background-color: burlywood;">Select-Question</div>
                                            <div class="row">
                                                <div class="col-md-2 p-2" *ngFor="let mcqList of questionListforExam; let i=index">
                                                    <button type="button" class="btn btn-outline-danger" (click)="getQuestion(mcqList.questionId,i)" *ngIf="mcqList.givenAnswer==''">{{i+1}}</button>
                                                    <button type="button" class="btn btn-success" (click)="getQuestion(mcqList.questionId,i)" *ngIf="mcqList.givenAnswer!=''">{{i+1}}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>                            
                        </div>
                    </div>
                       <div class="row">
                        <div class="col-3">
                            <div class="card border-dark">
                                <div class="card-body">
                                    <div class="card-title" style="text-align: left;font-family: cursive;background-color:yellow;">Total Question-{{mcqLenghth}}</div>
                                    <div class="card-title" style="text-align: left;font-family: cursive;background-color: #8bdd0c;">Total Attempt-{{attemptQuestion}}</div>
                                    <div class="card-title"
                                        style="text-align: left;color: bisque; font-family: cursive;background-color: rgb(241, 27, 99);">
                                        Reamening Question- {{mcqLenghth - attemptQuestion}}</div>
                                </div>
                                
                            </div>
                        </div>
                        <div class="col-auto" style="margin-left: 271px;margin-top: 8px;">
                            <button class="btn btn-success" type="buttons" (click)="finalSubmitExam()">Submit</button>
                        </div>
                    </div>
                    </section>
                    <ng-template #examOver>
                                    <h2>Exam Time Over</h2>
                    </ng-template>
                    </div>
                }
                
            <!-- </form> -->
        </section>
    </div>
</div>
